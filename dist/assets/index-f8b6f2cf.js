import{g as B,d as V}from"./system-8407aca3.js";import{_ as z,r as m,k as x,m as n,N as D,o as y,c as S,a as i,g as o,e as l,q as d,s as $,b as h,t as k,x as _}from"./index-dd519aa6.js";const L={name:"index",setup(){const t=m([]),e=m(1),p=m(10),a=async()=>{const r=await B(e.value,p.value);t.value=r.items},f=async r=>{try{await V(r.id)?(_({message:"删除成功",type:"success",duration:2e3}),await a()):_({message:"删除失败",type:"error",duration:2e3})}catch(s){_({message:"删除操作异常",type:"error",duration:2e3}),console.error("删除失败:",s)}};return x(()=>{a()}),{list:t,pageNo:e,pageSize:p,delClick:f,getList:a}}},E={class:"data-container"},M={"slot-scope":"scope"},R={"slot-scope":"scope"},j={"slot-scope":"scope"};function q(t,e,p,a,f,r){const s=n("el-button"),w=n("el-row"),b=n("el-input"),g=n("el-form-item"),v=n("el-form"),u=n("el-table-column"),C=n("el-table"),N=D("loading");return y(),S("div",E,[e[7]||(e[7]=i("h3",null,"门店管理",-1)),o(w,{type:"flex",justify:"end",class:"add"},{default:l(()=>[o(s,{type:"primary",size:"medium",onClick:t.openSkuDialog,id:"addBtn"},{default:l(()=>[...e[3]||(e[3]=[d("新增",-1)])]),_:1},8,["onClick"])]),_:1}),o(v,{inline:!0,size:"medium",class:"forms"},{default:l(()=>[o(g,{label:"账户/用户名:"},{default:l(()=>[o(b,{modelValue:t.skuName,"onUpdate:modelValue":e[0]||(e[0]=c=>t.skuName=c),placeholder:"请输入"},null,8,["modelValue"])]),_:1}),o(g,null,{default:l(()=>[o(s,{type:"primary",onClick:t.searchSku,id:"searchBtn"},{default:l(()=>[...e[4]||(e[4]=[d("查询",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1}),$((y(),h(C,{data:a.list,fit:"","highlight-current-row":"","header-cell-style":{color:"#5373e0",background:"#f3f6fb"},style:{width:"100%"}},{default:l(()=>[o(u,{align:"center",label:"角色编号"},{default:l(()=>[i("template",M,[i("span",null,k(t.scope.row.code),1)])]),_:1}),o(u,{align:"center",label:"角色名称"},{default:l(()=>[i("template",R,[i("span",null,k(t.scope.row.name),1)])]),_:1}),o(u,{fixed:"right",label:"操作",width:"120",align:"center"},{default:l(()=>[i("template",j,[o(s,{onClick:e[1]||(e[1]=c=>t.updateClick(t.scope.row)),type:"text",size:"small"},{default:l(()=>[...e[5]||(e[5]=[d("编辑",-1)])]),_:1}),o(s,{onClick:e[2]||(e[2]=c=>a.delClick(t.scope.row)),type:"text",size:"small"},{default:l(()=>[...e[6]||(e[6]=[d("删除",-1)])]),_:1})])]),_:1})]),_:1},8,["data"])),[[N,t.listLoading]])])}const A=z(L,[["render",q]]);export{A as default};
