import{_ as C,d as L,u as k,r as g,i as _,k as m,o as c,c as i,a as d,l as s,w as r,p as N}from"./index-c4ccb8e7.js";import{g as R,u as A,s as S}from"./finance-fb907070.js";const q=L({name:"Login",setup(){const a=k(),e=g({contactsAddress:"",merchantAddress:"",merchantName:"",merchantNo:0,merchantType:"",password:"",tenantId:null,idCardAfterImg:"",idCardFrontImg:"",businessLicensesImg:"",auditStatus:"",username:"",id:0}),h=g(""),y=g(""),b=g(""),I=g(0),u=async()=>{try{const l=await R();l&&(e.value.contactsAddress=l.contactsAddress,e.value.merchantAddress=l.merchantAddress,e.value.merchantName=l.merchantName,e.value.merchantNo=l.merchantNo,e.value.merchantType=l.merchantType,y.value=l.idCardFrontImg,h.value=l.businessLicensesImg,b.value=l.idCardAfterImg,e.value.username=l.username),console.log(l)}catch(l){console.error("获取数据失败:",l)}},n=(l,o)=>{h.value=URL.createObjectURL(o.raw)},p=(l,o)=>{y.value=URL.createObjectURL(o.raw)},V=(l,o)=>{b.value=URL.createObjectURL(o.raw)},f=async l=>{try{const o=new FormData;o.append("file",l.file);const v=await A(o);e.value.businessLicensesImg=v}catch(o){console.error("上传图片失败:",o)}},U=async l=>{try{const o=new FormData;o.append("file",l.file);const v=await A(o);e.value.idCardFrontImg=v}catch(o){console.error("上传图片失败:",o)}},w=async l=>{try{const o=new FormData;o.append("file",l.file);const v=await A(o);e.value.idCardAfterImg=v}catch(o){console.error("上传图片失败:",o)}},t=async()=>{try{await S(e.value),a.push("/finance/index")}catch(l){console.error("提交失败:",l)}};return _(()=>{u()}),{form:e,imageUrl:h,imageUrl1:y,imageUrl2:b,id:I,getLists:u,handleAvatarSuccess:n,handleAvatarSuccess1:p,handleAvatarSuccess2:V,uploadImg:f,uploadImg1:U,uploadImg2:w,submit:t}}}),D={class:"approve-container"},F=["src"],T={key:1,class:"el-icon-plus avatar-uploader-icon"},$=["src"],j={key:1,class:"el-icon-plus avatar-uploader-icon"},B=["src"],O={key:1,class:"el-icon-plus avatar-uploader-icon"};function E(a,e,h,y,b,I){const u=m("el-input"),n=m("el-form-item"),p=m("el-option"),V=m("el-select"),f=m("el-upload"),U=m("el-button"),w=m("el-form");return c(),i("div",D,[e[15]||(e[15]=d("h2",null,"资质申请",-1)),s(w,{ref:"form",model:a.form,"label-width":"140px",class:"froms"},{default:r(()=>[e[8]||(e[8]=d("h3",null,"基础信息",-1)),s(n,{label:"企业名称"},{default:r(()=>[s(u,{modelValue:a.form.merchantName,"onUpdate:modelValue":e[0]||(e[0]=t=>a.form.merchantName=t),placeholder:"请输入企业名称"},null,8,["modelValue"])]),_:1}),s(n,{label:"企业营业执行编号"},{default:r(()=>[s(u,{modelValue:a.form.merchantNo,"onUpdate:modelValue":e[1]||(e[1]=t=>a.form.merchantNo=t),placeholder:"请输入执行编号"},null,8,["modelValue"])]),_:1}),s(n,{label:"企业地址"},{default:r(()=>[s(u,{modelValue:a.form.merchantAddress,"onUpdate:modelValue":e[2]||(e[2]=t=>a.form.merchantAddress=t),type:"textarea",rows:"5",placeholder:"请输入企业地址"},null,8,["modelValue"])]),_:1}),e[9]||(e[9]=d("hr",null,null,-1)),e[10]||(e[10]=d("h3",null,"行业类型",-1)),s(n,{label:"行业类型"},{default:r(()=>[s(V,{placeholder:"请选择行业类型",modelValue:a.form.merchantType,"onUpdate:modelValue":e[3]||(e[3]=t=>a.form.merchantType=t)},{default:r(()=>[s(p,{label:"教育",value:"教育"}),s(p,{label:"科学研究",value:"科学研究"}),s(p,{label:"零售",value:"零售"})]),_:1},8,["modelValue"])]),_:1}),e[11]||(e[11]=d("hr",null,null,-1)),e[12]||(e[12]=d("h3",null,"证件上传",-1)),s(n,{label:"上传企业证明",class:"files"},{default:r(()=>[s(f,{class:"avatar-uploader",action:"#","show-file-list":!1,"on-success":a.handleAvatarSuccess,"http-request":a.uploadImg},{default:r(()=>[a.imageUrl?(c(),i("img",{key:0,src:a.imageUrl,class:"avatar"},null,8,F)):(c(),i("i",T))]),_:1},8,["on-success","http-request"])]),_:1}),s(n,{label:"上传法人身份证",class:"idCard"},{default:r(()=>[s(f,{class:"avatar-uploader1",action:"#","show-file-list":!1,"on-success":a.handleAvatarSuccess1,"http-request":a.uploadImg1},{default:r(()=>[a.imageUrl1?(c(),i("img",{key:0,src:a.imageUrl1,class:"avatar1"},null,8,$)):(c(),i("i",j))]),_:1},8,["on-success","http-request"]),s(f,{class:"avatar-uploader2",action:"#","show-file-list":!1,"on-success":a.handleAvatarSuccess2,"http-request":a.uploadImg2},{default:r(()=>[a.imageUrl2?(c(),i("img",{key:0,src:a.imageUrl2,class:"avatar2"},null,8,B)):(c(),i("i",O))]),_:1},8,["on-success","http-request"])]),_:1}),e[13]||(e[13]=d("hr",{class:"clear"},null,-1)),e[14]||(e[14]=d("h3",null,"联系人信息",-1)),s(n,{label:"联系人"},{default:r(()=>[s(u,{modelValue:a.form.username,"onUpdate:modelValue":e[4]||(e[4]=t=>a.form.username=t),placeholder:"请输入联系人"},null,8,["modelValue"])]),_:1}),s(n,{label:"联系人地址"},{default:r(()=>[s(u,{type:"textarea",rows:"5",placeholder:"请输入联系人地址",modelValue:a.form.contactsAddress,"onUpdate:modelValue":e[5]||(e[5]=t=>a.form.contactsAddress=t)},null,8,["modelValue"])]),_:1}),s(n,null,{default:r(()=>[s(U,null,{default:r(()=>[...e[6]||(e[6]=[N("取消",-1)])]),_:1}),s(U,{onClick:a.submit,type:"primary"},{default:r(()=>[...e[7]||(e[7]=[N("提交",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])])}const G=C(q,[["render",E]]);export{G as default};
