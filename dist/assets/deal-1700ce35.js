import{_ as g,r as d,D as h,i as b,k as _,o as w,c as v,a as e,l as t,w as o,t as n,g as y}from"./index-c4ccb8e7.js";import{e as A,f as N,h as C}from"./pay-3a9900c7.js";const L={name:"bill",setup(){const l=d([]),a=d([]),m=d([]),p=d([]),r=h({endTime:"",merchantId:0,startTime:""}),u=async()=>{try{l.value=[],r.merchantId=Number(y.tenantId);const c=await A(r);l.value.push(c),p.value=[]}catch(c){console.error("获取交易数据失败:",c)}},i=async()=>{try{a.value=await N(),m.value=await C()}catch(c){console.error("获取分类数据失败:",c)}},s=()=>{p.value.length===2&&(r.startTime=p.value[0],r.endTime=p.value[1],u())};return b(()=>{u(),i()}),{list:l,typeList:a,channelList:m,form:r,value1:p,getList:u,getClassList:i,changes:s}}},k={class:"bill-container"},D={"slot-scope":"scope"},T={"slot-scope":"scope"},V={"slot-scope":"scope"},q={"slot-scope":"scope"},B={"slot-scope":"scope"},I={"slot-scope":"scope"},M={"slot-scope":"scope"},R={"slot-scope":"scope"},F={"slot-scope":"scope"},S={"slot-scope":"scope"},E={"slot-scope":"scope"},U={"slot-scope":"scope"},j={"slot-scope":"scope"},z={"slot-scope":"scope"},G={"slot-scope":"scope"},H={"slot-scope":"scope"},J={"slot-scope":"scope"},K={"slot-scope":"scope"},O={"slot-scope":"scope"},P={"slot-scope":"scope"},Q={"slot-scope":"scope"},W={"slot-scope":"scope"},X={"slot-scope":"scope"},Y={"slot-scope":"scope"},Z={"slot-scope":"scope"},$={"slot-scope":"scope"},x={"slot-scope":"scope"},ee={"slot-scope":"scope"},le={"slot-scope":"scope"},te={"slot-scope":"scope"},oe={"slot-scope":"scope"},se={"slot-scope":"scope"},ne={"slot-scope":"scope"},ae={"slot-scope":"scope"},pe={"slot-scope":"scope"};function ce(l,a,m,p,r,u){const i=_("el-date-picker"),s=_("el-table-column"),c=_("el-table");return w(),v("div",k,[a[1]||(a[1]=e("h3",null,"应用交易总览",-1)),t(i,{modelValue:p.value1,"onUpdate:modelValue":a[0]||(a[0]=f=>p.value1=f),type:"daterange","range-separator":"~","value-format":"yyyy-MM-dd",onChange:p.changes,"start-placeholder":"开始日期","end-placeholder":"结束日期"},null,8,["modelValue","onChange"]),a[2]||(a[2]=e("div",null,null,-1)),a[3]||(a[3]=e("p",null,"汇总数据",-1)),t(c,{data:p.list,fit:"","highlight-current-row":"",border:"",stripe:"",style:{width:"100%"}},{default:o(()=>[t(s,{align:"center",label:"总交易额"},{default:o(()=>[e("template",D,[e("span",null,n(l.scope.row.totalAmount),1)])]),_:1}),t(s,{align:"center",label:"退款金额"},{default:o(()=>[e("template",T,[e("span",null,n(l.scope.row.refundAmount),1)])]),_:1}),t(s,{align:"center",label:"成功交易金额"},{default:o(()=>[e("template",V,[e("span",null,n(l.scope.row.successAmount),1)])]),_:1}),t(s,{align:"center",label:"手续费"},{default:o(()=>[e("template",q,[e("span",null,n(l.scope.row.fee),1)])]),_:1}),t(s,{align:"center",label:"净收入"},{default:o(()=>[e("template",B,[e("span",null,n(l.scope.row.incomeAmount),1)])]),_:1}),t(s,{align:"center",label:"发起笔数"},{default:o(()=>[e("template",I,[e("span",null,n(l.scope.row.requestNumber),1)])]),_:1}),t(s,{align:"center",label:"退款笔数"},{default:o(()=>[e("template",M,[e("span",null,n(l.scope.row.refundNumber),1)])]),_:1}),t(s,{align:"center",label:"成功笔数"},{default:o(()=>[e("template",R,[e("span",null,n(l.scope.row.successNumber),1)])]),_:1}),t(s,{align:"center",label:"转化率"},{default:o(()=>[e("template",F,[e("span",null,n(l.scope.row.conversion),1)])]),_:1}),t(s,{align:"center",label:"平均订单金额"},{default:o(()=>[e("template",S,[e("span",null,n(l.scope.row.avgAmount),1)])]),_:1}),t(s,{align:"center",label:"平均费率"},{default:o(()=>[e("template",E,[e("span",null,n(l.scope.row.avgRate),1)])]),_:1})]),_:1},8,["data"]),a[4]||(a[4]=e("p",null,"各渠道交易数据",-1)),t(c,{data:p.channelList,fit:"","highlight-current-row":"",border:"",stripe:"",style:{width:"100%"}},{default:o(()=>[t(s,{align:"center",label:"渠道名称"},{default:o(()=>[e("template",U,[e("span",null,n(l.scope.row.channelName),1)])]),_:1}),t(s,{align:"center",label:"总交易额"},{default:o(()=>[e("template",j,[e("span",null,n(l.scope.row.totalAmount),1)])]),_:1}),t(s,{align:"center",label:"退款金额"},{default:o(()=>[e("template",z,[e("span",null,n(l.scope.row.refundAmount),1)])]),_:1}),t(s,{align:"center",label:"成功交易金额"},{default:o(()=>[e("template",G,[e("span",null,n(l.scope.row.successAmount),1)])]),_:1}),t(s,{align:"center",label:"手续费"},{default:o(()=>[e("template",H,[e("span",null,n(l.scope.row.fee),1)])]),_:1}),t(s,{align:"center",label:"净收入"},{default:o(()=>[e("template",J,[e("span",null,n(l.scope.row.incomeAmount),1)])]),_:1}),t(s,{align:"center",label:"发起笔数"},{default:o(()=>[e("template",K,[e("span",null,n(l.scope.row.requestNumber),1)])]),_:1}),t(s,{align:"center",label:"退款笔数"},{default:o(()=>[e("template",O,[e("span",null,n(l.scope.row.refundNumber),1)])]),_:1}),t(s,{align:"center",label:"成功笔数"},{default:o(()=>[e("template",P,[e("span",null,n(l.scope.row.successNumber),1)])]),_:1}),t(s,{align:"center",label:"转化率"},{default:o(()=>[e("template",Q,[e("span",null,n(l.scope.row.conversion),1)])]),_:1}),t(s,{align:"center",label:"平均订单金额"},{default:o(()=>[e("template",W,[e("span",null,n(l.scope.row.avgAmount),1)])]),_:1}),t(s,{align:"center",label:"平均费率"},{default:o(()=>[e("template",X,[e("span",null,n(l.scope.row.avgRate),1)])]),_:1})]),_:1},8,["data"]),a[5]||(a[5]=e("p",null,"各应用交易数据",-1)),t(c,{data:p.typeList,fit:"","highlight-current-row":"",border:"",stripe:"",style:{width:"100%"}},{default:o(()=>[t(s,{align:"center",label:"应用名称"},{default:o(()=>[e("template",Y,[e("span",null,n(l.scope.row.appName),1)])]),_:1}),t(s,{align:"center",label:"总交易额"},{default:o(()=>[e("template",Z,[e("span",null,n(l.scope.row.totalAmount),1)])]),_:1}),t(s,{align:"center",label:"退款金额"},{default:o(()=>[e("template",$,[e("span",null,n(l.scope.row.refundAmount),1)])]),_:1}),t(s,{align:"center",label:"成功交易金额"},{default:o(()=>[e("template",x,[e("span",null,n(l.scope.row.successAmount),1)])]),_:1}),t(s,{align:"center",label:"手续费"},{default:o(()=>[e("template",ee,[e("span",null,n(l.scope.row.fee),1)])]),_:1}),t(s,{align:"center",label:"净收入"},{default:o(()=>[e("template",le,[e("span",null,n(l.scope.row.incomeAmount),1)])]),_:1}),t(s,{align:"center",label:"发起笔数"},{default:o(()=>[e("template",te,[e("span",null,n(l.scope.row.requestNumber),1)])]),_:1}),t(s,{align:"center",label:"退款笔数"},{default:o(()=>[e("template",oe,[e("span",null,n(l.scope.row.refundNumber),1)])]),_:1}),t(s,{align:"center",label:"成功笔数"},{default:o(()=>[e("template",se,[e("span",null,n(l.scope.row.successNumber),1)])]),_:1}),t(s,{align:"center",label:"转化率"},{default:o(()=>[e("template",ne,[e("span",null,n(l.scope.row.conversion),1)])]),_:1}),t(s,{align:"center",label:"平均订单金额"},{default:o(()=>[e("template",ae,[e("span",null,n(l.scope.row.avgAmount),1)])]),_:1}),t(s,{align:"center",label:"平均费率"},{default:o(()=>[e("template",pe,[e("span",null,n(l.scope.row.avgRate),1)])]),_:1})]),_:1},8,["data"])])}const ie=g(L,[["render",ce]]);export{ie as default};
